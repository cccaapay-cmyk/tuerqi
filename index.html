<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title></title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #ffffff;
      display: none;
    }
  </style>
</head>
<body>

<script>
  const numbers = [
      "905389368464"
  ];

  const KEY_BAG = "wa_shuffle_bag_v1";
  const KEY_LAST = "wa_last_pick_v1";

  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function loadBag() {
    try {
      const raw = localStorage.getItem(KEY_BAG);
      const bag = raw ? JSON.parse(raw) : null;
      if (Array.isArray(bag) && bag.length > 0) return bag;
    } catch {}
    return null;
  }

  function saveBag(bag) {
    localStorage.setItem(KEY_BAG, JSON.stringify(bag));
  }

  function pickNumber() {
    let bag = loadBag();
    const lastPick = localStorage.getItem(KEY_LAST) || "";

    if (!bag || bag.length === 0) {
      bag = shuffle([...numbers]);

      if (bag[0] === lastPick && bag.length > 1) {
        [bag[0], bag[1]] = [bag[1], bag[0]];
      }
    }

    const pick = bag.shift();
    saveBag(bag);
    localStorage.setItem(KEY_LAST, pick);

    return pick;
  }

  const n = pickNumber();
  const link = "https://wa.me/" + n;

  window.location.replace(link);
</script>

</body>
</html>
